using System;

namespace WeDidItReplit
{
    class Program
    {
        static void OperandValidation(string Calc, ref long x, ref long y, ref char op, ref bool ok)
        {
            if (Calc.Length < 5 || Calc[1] != ' ') // checking if the string is long enough to have 2 operands and an operation with spaces in between
            {
                ok = false;
            }
            else
            {
                op = Calc[0];
            }

            int i;
            for (i = 2; i < Calc.Length && Calc[i] != ' '; i++)
            {
                if (Calc[i] < '0' || Calc[i] > '9') // checking if the string contains characters different from digits
                {
                    ok = false;
                    break;
                }

                x = x * 10 + (int)Calc[i] - 48; // manual conversion from string to int
            }

            if (i == Calc.Length)
                ok = false;
            else for (int j = i + 1; j < Calc.Length; j++)
                 {
                    if (Calc[j] < '0' || Calc[j] > '9') // if the string contains characters different from digits
                    {
                        ok = false;
                        break;
                    }

                    y = y * 10 + (int)Calc[j] - 48; // manual conversion from string to int
                 }
        }
        
        static void Solve(long X, long Y, char op, ref double Ans, ref bool ok)
        {
            if (op == '+') // addition
            {
                Ans = X + Y;
            }
            else if (op == '-') // substraction
            {
                Ans = X - Y;
            }
            else if (op == '*') // multiplication
            {
                Ans = X * Y;
            }
            else if (op == '/') // division
            {
                Ans = X * 1.0 / Y;
            }
            else if (op == '%') // modulus
            {
                Ans = X % Y;
            }
            else if (op == '^') // power
            {
                long x = X;
                while (Y != 1)
                {
                    Y--;
                    X *= x;
                }
                Ans = X;
            }
            else // checking if the requested operation is implemented or not
            {
                ok = false;
            }
        }

        static void Main(string[] args)
        {
            bool IsValid = false;

            while (IsValid == false) // checking if the input is valid
            {
                IsValid = true;
                char Operation = '0';
                long FirstOperand = 0, SecondOperand = 0;
                double Result = 0;
                string Calc = Console.ReadLine(), Message = "0"; // reading everything in one string

                OperandValidation(Calc, ref FirstOperand, ref SecondOperand, ref Operation, ref IsValid); // convert the string characters into the operands
                Solve(FirstOperand, SecondOperand, Operation, ref Result, ref IsValid); // solving the equation (if possible)


                if (IsValid == false)
                {
                    Message = "Invalid input, please try again: \n";
                    Console.WriteLine(Message);
                }
                else
                {
                    Console.WriteLine(Result);
                }

            }
        }
    }
}
