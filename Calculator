using System;

namespace Calculator
{
    class Program
    {
        // input template: {operation} {blank} {operand1} {blank} {operand2}

        static void Main(string[] args)
        {
            bool IsValid = false;

            while (IsValid == false) // checking if the input is valid
            {

                IsValid = true;
                int i;
                char Operation = '0';
                long FirstOperand = 0, SecondOperand = 0;
                double Result = 0;
                string Calc = Console.ReadLine(), Message = "0"; // reading everything in one string
                if (Calc.Length < 5 || Calc[1] != ' ') // checking if the string is long enough to have 2 operands and an operation with spaces in between
                {
                    IsValid = false;
                }
                else
                {
                    Operation = Calc[0];
                }
                for (i = 2; i < Calc.Length && Calc[i] != ' '; i++)
                {
                    if (Calc[i] < '0' || Calc[i] > '9') // checking if the string contains characters different from digits
                    {
                        IsValid = false;
                        break;
                    }
                    FirstOperand = FirstOperand * 10 + (int)Calc[i] - 48; // manual conversion from string to int
                }
                for (int j = i+1; j < Calc.Length; j++)
                {
                    if (Calc[j] < '0' || Calc[j] > '9') // if the string contains characters different from digits
                    {
                        IsValid = false;
                        break;
                    }
                    SecondOperand = SecondOperand * 10 + (int)Calc[j] - 48; // manual conversion from string to int
                }

                if (IsValid == false || Calc.Length == i || Calc.Length == 0) // checking if the input template is met
                {
                    IsValid = false;
                    Console.WriteLine("Invalid format, please try again. ");
                    continue;
                }


                if (Operation == '+') // addition
                {
                    Result = FirstOperand + SecondOperand;
                }
                else if (Operation == '-') // substraction
                {
                    Result = FirstOperand - SecondOperand;
                }
                else if (Operation == '*') // multiplication
                {
                    Result = FirstOperand * SecondOperand;
                }
                else if (Operation == '/') // division
                {
                    Result = FirstOperand * 1.0 / SecondOperand;
                }
                else if (Operation == '%') // modulus
                {
                    Result = FirstOperand % SecondOperand;
                }
                else if (Operation == '^') // power
                {
                    long x = FirstOperand;
                    while (SecondOperand != 1)
                    {
                        SecondOperand--;
                        FirstOperand *= x;
                    }
                    Result = FirstOperand;
                }
                else // checking if the requested operation is implemented or not
                {
                    IsValid = false;
                    Message = "Unknown operation, please try again: \n";
                }


                if (IsValid == false)
                {
                    Console.WriteLine(Message);
                }
                else
                {
                    Console.WriteLine(Result);
                }

            }
        }
    }
}
